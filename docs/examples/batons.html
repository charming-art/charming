<!doctype html>
<notebook theme="air">
  <title>Batons</title>
  <script id="0" type="text/markdown">
    # Batons

  </script>
  <script id="8" type="application/vnd.observable.javascript" pinned="">
    {
      function update(app) {
        app.append(cm.clear, { fill: cm.rgb(255) });
        app
          .data([0, 1, 2])
          .append(cm.group, {
            x: (_, i) => ((i + 0.5) * app.prop("width")) / 3,
            y: app.prop("height") / 2,
            rotate: (_, i) => app.prop("frameCount") / 50 + i * 30
          })
          .call((d) => d.append(cm.link, { x: -80, y: 0, x1: 80, y1: 0 }))
          .call((d) => d.append(cm.circle, { x: -80, y: 0, r: 5, fill: "black" }))
          .call((d) => d.append(cm.circle, { x: 80, y: 0, r: 5, fill: "black" }));
      }

      function dispose(app) {
        invalidation.then(() => app.dispose());
      }

      return cm
        .app({ width: 600, height: 200 })
        .on("update", update)
        .call(dispose)
        .start()
        .node();
    }
  </script>
  </notebook>
