<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <style type="text/css">
      @import url("observable:styles/index.css");
      @import url("@fontsource/spline-sans-mono/400.css");
      @import url("@fontsource/spline-sans-mono/600.css");
      @import url("@fontsource/spline-sans-mono/700.css");
      @import url("@fontsource/spline-sans-mono/400-italic.css");
      @import url("@fontsource/spline-sans-mono/600-italic.css");
      @import url("@fontsource/spline-sans-mono/700-italic.css");
      @import url("@fontsource/source-serif-4/400.css");
      @import url("@fontsource/source-serif-4/700.css");
      @import url("@fontsource/source-serif-4/400-italic.css");
      @import url("@fontsource/source-serif-4/700-italic.css");
      @import url("@fontsource/inter/400.css");
      @import url("@fontsource/inter/500.css");
      @import url("@fontsource/inter/600.css");
      @import url("@fontsource/inter/700.css");
      @import url("@fontsource/inter/400-italic.css");
      @import url("@fontsource/inter/500-italic.css");
      @import url("@fontsource/inter/600-italic.css");
      @import url("@fontsource/inter/700-italic.css");
    </style>
    <style>
        p, table, figure, figcaption, h1, h2, h3, h4, h5, h6, .katex-display {
          max-width: unset;
        }

        blockquote, ol, ul {
          max-width: unset;
        }
    </style>
    <style>
      .charming-banner {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background-color: #ffc107;
        color: #1b1e23;
        padding: 0.5rem 1rem;
        text-align: center;
        font-size: 0.875rem;
        font-weight: 500;
      }
      .charming-banner a {
        color: #1b1e23;
        text-decoration: underline;
      }
      .charming-banner a:hover {
        text-decoration: none;
      }
      body {
        padding-top: 2rem;
      }
      .charming-banner .full-text {
        display: block;
      }
      .charming-banner .short-text {
        display: none;
      }
      @media (max-width: 768px) {
        .charming-banner .full-text {
          display: none;
        }
        .charming-banner .short-text {
          display: block;
        }
      }
    </style>
    <script src="/dist/cm.umd.min.js"></script>
  </head>
  <body>
    <div class="charming-banner">
      <span class="full-text">This is Charming1. For Charming2, go to <a href="https://charmingjs.org">charmingjs.org</a>.</span>
      <span class="short-text">This is v1. For v2, go to <a href="https://charmingjs.org">charmingjs.org</a>.</span>
    </div>
    <nav id="breadcrumb"></nav>
    <main></main>
    <script>
      (function() {
        const path = window.location.pathname;
        const pathParts = path.split('/').filter(s => s);
        const htmlFile = pathParts[pathParts.length - 1] || '';
        
        // Hide breadcrumb on home page
        // Home page can be: /, /index, or /index.html
        if (pathParts.length === 0 || 
            (pathParts.length === 1 && (htmlFile === 'index.html' || htmlFile === 'index'))) {
          return;
        }
        
        const breadcrumb = document.getElementById('breadcrumb');
        const sectionMap = {
          'examples': 'Examples',
          'api-reference': 'API Reference',
          'introduction': 'Introduction'
        };
        
        // Calculate relative path to home based on depth
        const depth = pathParts.length - 1;
        const homePath = '../';
        
        let breadcrumbHTML = '<a href="' + homePath + '" style="display: inline-flex; align-items: center; gap: 0.5rem;"><img src="/logo.svg" alt="Charming" style="width: 1.25rem; height: 1.25rem; vertical-align: middle;">Charming</a>';
        
        // If we're in a section folder and not on the section's index page
        // pathParts.length === 2 means: [section, file.html]
        if (pathParts.length === 2 && htmlFile !== 'index.html') {
          const section = pathParts[0];
          const sectionName = sectionMap[section] || section.charAt(0).toUpperCase() + section.slice(1);
          const sectionIndexPath = './';
          breadcrumbHTML += ' / <a href="' + sectionIndexPath + '">' + sectionName + '</a>';
        }
        
        breadcrumb.innerHTML = breadcrumbHTML;
        breadcrumb.style.marginBottom = '1em';
        breadcrumb.style.fontSize = '0.875rem';
      })();
    </script>
  </body>
</html>

